## 郑州大学健康上报自动填报脚本

### 它可以用在哪里？

你可以在你的服务器上运行。

个人将其用在路由器上，由于路由器储存空间和性能均有限，不方便安装 Python，故采用 Shell 编写。

这个脚本已经在 OpenWrt 上经过测试。

-----
### 它应该怎么用？

在这里给出 Linux 系统上的使用方法，MacOS 可以在终端使用相同方法运行。

+ 首先，本脚本需要 Shell 的运行环境，**且需要有 curl 命令**。

+ 其次，你需要将你的学号和密码填入代码的第三行和第四行的 '*' 号处，例如：
```shell
username='201710000110'
password='12345678'
```

+ 在代码的第五、六行为打卡的位置的经纬度，当前为郑州大学，如果没有需要，你无需更改它。
+ 当然，你可以在[这里](https://jingweidu.bmcx.com/)查询到你所需要位置的经纬度
```shell
jingdu='113.535912'
weidu='34.817169'
```

+ 最后，你还需要给它允许执行的权限
```shell
chmod +x jksb.sh
```

到此，你已经完成了这个脚本的所有设置，每次运行它都可以进行一次打卡。

*代码的最后几行被注释的部分，可以输出打卡过程中三次请求的结果，如果在打卡时遇到问题，你可以尝试输出这些结果以找到问题*

---
### 如何实现自动化？
如果你的脚本已经配置完毕，你可以使用 cron 创建定时任务以实现每日的定时打卡。
+ 首先，运行
```shell
sudo service
```
如果你看到类似这样的内容，说明 cron 正在运行：
```shell
/etc/init.d/cron    enabled    running
```
否则，运行以下命令以开启 cron 服务。
```shell
sudo service cron start
```
+ 创建 cron 定时任务，采用如下命令打开定时任务编辑器：
```shell
crontab -e
```
在文件末尾增加如下内容，其中 [path of script] 为你的脚本所在的位置
```shell
20 0,4 * * * [path of script]
```
例如
```shell
20 0,4 * * * /home/ZZU/jksb.sh
```
+ 此时，你可以使用如下命令查看你的计划任务表：
```shell
crontab -l
```
显示的应该包含你刚刚所添加的内容

---
### 至此，它应该已经可以正确运行了
